@{
    ViewData["Title"] = "Dashboard";
}

<div class="container-fluid p-4">
    <div class="d-flex flex-wrap align-items-center mb-4 gap-3">
        <div class="flex-grow-1">
            <h4 class="fw-bold mb-0">Orders Dashboard</h4>
            <div class="text-muted small">Today · Synced with storefront in real time</div>
        </div>

        <div class="d-flex align-items-center gap-2">
            <div class="position-relative d-none d-sm-block">
                <span class="search-icon">🔍</span>
                <input type="text" class="form-control form-control-sm search-input" placeholder="Search order, customer..." />
            </div>
            <button class="icon-btn-round" type="button" title="Notifications">🔔</button>
            <button class="icon-btn-round primary" type="button" title="Create order">＋</button>
        </div>
    </div>

    <div class="mb-4">
        <div class="row g-3">
            <div class="col-xl-3 col-md-6">
                <div class="glass-card p-3 h-100">
                    <div class="stat-label mb-1">Today’s Revenue</div>
                    <div class="d-flex align-items-baseline gap-2 mb-1">
                        <div class="stat-value">$3,845.00</div>
                        <span class="stat-chip positive">+18.4%</span>
                    </div>
                    <div class="stat-meta">42 orders · AOV $91.55</div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6">
                <div class="glass-card p-3 h-100">
                    <div class="stat-label mb-1">Open Orders</div>
                    <div class="d-flex align-items-baseline gap-2 mb-1">
                        <div class="stat-value">27</div>
                        <span class="stat-chip warning">12 urgent</span>
                    </div>
                    <div class="stat-meta">3 overdue · SLA 24h</div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6">
                <div class="glass-card p-3 h-100">
                    <div class="stat-label mb-1">Refund Requests</div>
                    <div class="d-flex align-items-baseline gap-2 mb-1">
                        <div class="stat-value">3</div>
                        <span class="stat-chip">2 pending</span>
                    </div>
                    <div class="stat-meta">Last request · 12 min ago</div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6">
                <div class="glass-card p-3 h-100">
                    <div class="stat-label mb-1">Conversion Rate</div>
                    <div class="d-flex align-items-baseline gap-2 mb-1">
                        <div class="stat-value">3.6%</div>
                        <span class="stat-chip positive">+0.3 pts</span>
                    </div>
                    <div class="stat-meta">2,130 sessions · 78 checkouts</div>
                </div>
            </div>
        </div>
    </div>

    <div class="row g-3 h-100">

        <div class="col-lg-8">
            <div class="glass-card p-3 h-100 d-flex flex-column">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <div>
                        <div class="fw-bold">Recent Orders</div>
                        <div class="small text-muted">Order lifecycle management</div>
                    </div>
                    <button class="btn btn-sm btn-outline-danger">
                        ⟳ Refresh
                    </button>
                </div>
                </div>

                <div class="table-wrapper flex-grow-1">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0 align-middle">
                            <thead>
                                <tr>
                                    <th>Order</th>
                                    <th>Date</th>
                                    <th>Customer</th>
                                    <th>Status</th>
                                    <th class="text-end">Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><a href="#" class="link-inline">#INV-10421</a></td>
                                    <td>Nov 20 · 11:32</td>
                                    <td>Sarah Ahmed</td>
                                    <td>
                                        <span class="badge-status completed">
                                            <span class="dot"></span> Shipped
                                        </span>
                                    </td>
                                    <td class="text-end fw-bold">$189.00</td>
                                </tr>
                                <tr>
                                    <td><a href="#" class="link-inline">#INV-10420</a></td>
                                    <td>Nov 20 · 10:05</td>
                                    <td>Rafiul Islam</td>
                                    <td>
                                        <span class="badge-status pending">
                                            <span class="dot"></span> Processing
                                        </span>
                                    </td>
                                    <td class="text-end fw-bold">$79.50</td>
                                </tr>
                                <tr>
                                    <td><a href="#" class="link-inline">#INV-10418</a></td>
                                    <td>Nov 19 · 21:17</td>
                                    <td>Mahmudul Hasan</td>
                                    <td>
                                        <span class="badge-status failed">
                                            <span class="dot"></span> Refunded
                                        </span>
                                    </td>
                                    <td class="text-end fw-bold">$120.00</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="glass-card p-3 h-100 d-flex flex-column">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <div class="fw-bold">Order Snapshot</div>
                    <button class="btn btn-sm btn-light border">✎ Edit</button>
                </div>

                <div class="mb-3 d-flex flex-wrap gap-2">
                    <div class="chip primary">#INV-10421</div>
                    <div class="chip">📍 Dhaka, BD</div>
                </div>

                <div class="order-summary-box p-3 mb-3">
                    <div class="row g-2 small">
                        <div class="col-6 text-muted">Subtotal</div>
                        <div class="col-6 text-end fw-semibold">$175.00</div>
                        <div class="col-6 text-muted">Shipping</div>
                        <div class="col-6 text-end fw-semibold">$9.00</div>
                        <div class="col-6 text-muted">Discount</div>
                        <div class="col-6 text-end text-danger">-$5.00</div>
                        <div class="col-12 border-top my-1"></div>
                        <div class="col-6 fw-bold">Total</div>
                        <div class="col-6 text-end fw-bold">$179.00</div>
                    </div>
                </div>

                <div class="small mb-3">
                    <div class="fw-bold mb-2">Items (2)</div>
                    <div class="d-flex flex-wrap gap-2">
                        <div class="chip">1× Wireless Headphones</div>
                        <div class="chip">1× Smart Watch</div>
                    </div>
                </div>

                <div class="divider-dashed mb-3"></div>

                <div class="small">
                    <div class="fw-bold mb-2">Timeline</div>
                    <ul class="timeline">
                        <li>
                            <span class="timeline-dot"></span>
                            <div>
                                <div class="fw-semibold">Order shipped</div>
                                <div class="timeline-meta">Courier: RedX · Tracking: RX239</div>
                            </div>
                        </li>
                        <li>
                            <span class="timeline-dot"></span>
                            <div>
                                <div class="fw-semibold">Payment captured</div>
                                <div class="timeline-meta">Visa · 11:33 AM</div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <link rel="stylesheet" href="~/css/dashboard.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <script src="~/js/dashboard.js" asp-append-version="true"></script>
}